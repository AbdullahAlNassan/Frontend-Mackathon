.map {
  width: 100%;
  height: 100%;
  border-radius: var(--radius-sm);
  overflow: hidden;
  position: relative;
  z-index: 1; // ← BELANGRIJK: Laag houden

  // Fix voor touch devices
  touch-action: pan-x pan-y;

  .leaflet-container {
    width: 100%;
    height: 100%;
    font-family: inherit;
    background: #f8f9fa;
    border-radius: var(--radius-sm);
    z-index: 1 !important; // ← BELANGRIJK: Force laag

    // iPad/touch fixes
    touch-action: pan-x pan-y;
    -webkit-tap-highlight-color: transparent;
  }

  // Alle Leaflet layers laag houden
  .leaflet-pane {
    z-index: auto !important;
  }

  .leaflet-map-pane {
    z-index: 1 !important;
  }

  // Zorg dat tiles goed laden op touch
  .leaflet-tile-container {
    will-change: transform;
  }

  .leaflet-tile {
    image-rendering: -webkit-optimize-contrast;
  }

  .leaflet-control-zoom {
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    border: none;
    z-index: 10; // Zoom controls moeten boven map maar onder sidebar

    a {
      width: 34px;
      height: 34px;
      line-height: 34px;
      font-size: 18px;
      border-bottom: 1px solid #e5e7eb;

      &:hover {
        background: #f3f4f6;
      }

      &:last-child {
        border-bottom: none;
      }
    }
  }

  .leaflet-popup-content-wrapper {
    border-radius: 0.5rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  // Force alle overlays onder sidebar
  .leaflet-overlay-pane,
  .leaflet-shadow-pane,
  .leaflet-marker-pane,
  .leaflet-tooltip-pane,
  .leaflet-popup-pane {
    z-index: auto !important;
  }
}
